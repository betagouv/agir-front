<template>
  <div class="fr-container fr-pb-6w">
    <FilDAriane page-courante="Bibliothèque" />
    <h1 class="fr-h2">Base de connaissance</h1>
    <div class="fr-grid-row">
      <div class="fr-col-md-4 fr-col-12">
        <h2 class="fr-h4">Filtres</h2>
        <InputCheckbox
          id="thematiqueArticle"
          label="Thématiques"
          :options="bibliothequeViewModel.filtres"
          @update="updateThematique"
        />
      </div>
      <div class="fr-col-md-8 fr-col-12">
        <h2 class="fr-h4">124 articles</h2>
        <div class="fr-grid-row fr-grid-row--gutters">
          <div class="fr-col-6" v-for="article in bibliothequeViewModel.articles">
            <BibliothequeCard
              :key="article.titre"
              :titre="article.titre"
              :image="article.image"
              :description="article.description"
              :thematique="article.thematique"
              :url="article.url"
            />
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
  import FilDAriane from '@/components/dsfr/FilDAriane.vue';
  import InputCheckbox from '@/components/dsfr/InputCheckbox.vue';
  import BibliothequeCard from '@/components/custom/Bibliotheque/BibliothequeCard.vue';

  interface BibliothequeViewModel {
    articles: {
      titre: string;
      thematique: string;
      description: string;
      url: string;
      image: string;
    }[];
    filtres: {
      id: string;
      label: string;
      checked: boolean;
    }[];
  }

  const bibliothequeViewModel: BibliothequeViewModel = {
    articles: [
      {
        titre: 'Par où commencer la rénovation de sa maison ?',
        thematique: '🌍 Global',
        description: 'lorem ipsum dolor description un peu longue hello',
        url: '1',
        image: 'https://picsum.photos/300/200',
      },
      {
        titre: 'Le coût carbone d’un t-shirt',
        thematique: '🌍 Global',
        description: 'lorem ipsum dolor description un peu longue hello',
        url: '1',
        image: 'https://picsum.photos/400/400',
      },
      {
        titre: 'C’est quoi 5 tonnes de CO2e ?',
        thematique: '🌍 Global',
        description: 'lorem ipsum dolor description un peu longue hello',
        url: '1',
        image: 'https://picsum.photos/400/400',
      },
      {
        titre: 'Quelle est la mission de l’ADEME ?',
        thematique: '🌍 Global',
        description: 'lorem ipsum dolor description un peu longue hello',
        url: '1',
        image: 'https://picsum.photos/300/200',
      },
    ],
    filtres: [
      {
        id: 'id',
        label: '🛒 Consommation',
        checked: true,
      },
      {
        id: 'id2',
        label: '🏠 Logement',
        checked: true,
      },
      {
        id: 'id3',
        label: '🚲 Transports',
        checked: true,
      },
    ],
  };

  const updateThematique = () => {
    //appel du usecase
  };
</script>
